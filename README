Overview - Jellybean Version
================================================================
This MBM HAL is based on the pre-release MBM HAL 4.0.0.0 BETA for CyanogenMod 10 (Android JB): http://sourceforge.net/apps/mediawiki/mbm/index.php?title=MBM

It has been modified specifically for the HP TouchPad 4G which uses the Ericsson f5521gw Mobile Broadband Module (MBM).  The modifications may be applicable to other platforms using Ericsson MBMs and running Android JB.  

...

Modification Tracking
================================================================
Enhanced network reporting and status bar symbols for f5521gw:

  Standard        Download    Upload     Symbol
  ------------    --------    --------   ------
  GSM/GPRS        0.0856      0.0428      "G"
  EDGE Evol       1.8944      0.9472      "E"
  WCDMA           0.384       0.384       "3G"
  HSDPA           14.4        0.384       "H"
  HSDPA+HSUPA     14.4        5.76        "H"
  HSPA Evol       21          5.76        "H+"

Added utilities to assist with debugging:

  Added aldtf.sh (in /system/xbin): Run from su prompt to create log files in 'sdcard/logs'
  Added xmesg (in system/bin): Creates kernel logs similar to dmesg, but with time stamps
  Added pollerr.sh (in system/bin): Capturese logs when a POLLERR occurs.  
...

================================================================
Note:  !! As of 01/23/2013 this code is a testing pre-release !!
================================================================

================================================================
Build Instructions for HP TouchPad 4G (jellybean branch)
----------------------------------------------------------------
Note: a script is included in vendor/mbm/patches to assist with
Steps 3 and 4.  You need to set $TOP to your build directory.
================================================================
================================================================
Acknowledgements:
----------------------------------------------------------------
James Sullins:  Everything, Prebuilds for CM10 audio & video,
power shutdow, sensors, etc. 
Tomasz Rostanski: Camera HAL, Gyroscope, etc. 
MBM HAL Developers:  MBM HAL 4.1.0 Beta
================================================================

1. Modify your local_manifest.xml, as follows:

  <?xml version="1.0" encoding="UTF-8"?>
  <manifest>
    <project name="NewbyJE/hp-kernel-tenderloin" path="kernel/hp/tenderloin" remote="github" revision="ics" />
    <project name="NewbyJE/android_device_hp_tenderloin" path="device/hp/tenderloin" remote="github" revision="jellybean" />
    <project name="NewbyJE/android_vendor_mbm_beta" path="vendor/mbm" remote="github" revision="jellybean" />
    <project name="CyanogenMod/android_hardware_atheros_wlan" path="hardware/atheros/wlan" remote="github" revision="jellybean" />
  </manifest>

2. Synchronize your build directory with manifest (repo sync) 

3. Copy the HP TP proprietary files from device/hp/tenderloin to vendor/hp/tenderloin/

  cp -R device/hp/tenderloin/Proprietary/* vendor/hp/tenderloin/proprietary/

4. The following modifications are process and should be cherrypicked:  

  cd $TOP/device/hp/tenderloin:
    # TouchPad Camera Settings (Tomasz Rostanski)
    git fetch http://review.cyanogenmod.org/CyanogenMod/android_device_hp_tenderloin refs/changes/93/29493/1 && git cherry-pick -n FETCH_HEAD
    # Add Gyroscope sensor userspace driver (Tomasz Rostanski)
    git fetch http://review.cyanogenmod.org/CyanogenMod/android_device_hp_tenderloin refs/changes/38/29838/10 && git cherry-pick -n FETCH_HEAD

  cd $TOP/frameworks/base
    # telephony: Fix MMS for when operator has different APNs for Data and MMS (John Newby)
    git fetch http://review.cyanogenmod.com/CyanogenMod/android_frameworks_base refs/changes/83/24883/1 && git cherry-pick -n FETCH_HEAD
    # add criticalBatteryShutdownLevel; fix plugged/charging status (James Sullins)
    git fetch http://review.cyanogenmod.org/CyanogenMod/android_frameworks_base refs/changes/89/28689/2 && git cherry-pick -n FETCH_HEAD

  cd $TOP/kernel/hp/tenderloin
    # Update MPU3050 kernel driver (Tomasz Rostanski)
    git fetch http://review.cyanogenmod.org/CyanogenMod/hp-kernel-tenderloin refs/changes/33/29733/8 && git cherry-pick -n FETCH_HEAD

4. Apply the following additional patches from the patches directory in this repo ($TOP/vendor/mbm/patches)

  Required
  --------
  cd $TOP/development
    # Add package name providing network location support.
    patch -p1 < $TOP/vendor/mbm/patches/development.patch

  cd $TOP/system/core
    # Proper radio buffer sizes and increased size for dmesg dump
    patch -p1 < $TOP/vendor/mbm/patches/system_core.patch

  cd $TOP/vendor/mbm
    # NITZ and RSSI plus GPS fixes and fast dormancy
    patch -p1 < $TOP/vendor/mbm/patches/vendor_mbm.patch

  Optional
  --------
  cd $TOP/hardware/ril
    # Ability to enter AT commands to the MBM HAL from the command line using radiooptions
    patch -p1 < $TOP/vendor/mbm/patches/hardware_ril.patch

  cd $TOP/kernel/hp/tenderloin
    # usb_debug_dirty.patch: More debug information for the USB issues, correction in the pehci.c driver, and revised hub race patch
    patch -p1 < $TOP/vendor/mbm/patches/usb_debug_dirty.patch

  cd $TOP/packages/apps/Email
    # Allow email download of compressed files
    patch -p1 < $TOP/vendor/mbm/patches/packages_apps_Email.patch

  cd $TOP/vendor/cm
    # Non-release builds
    patch -p1 < $TOP/vendor/mbm/patches/vendor_cm.patch

